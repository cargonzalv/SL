# Summary
The SPS Library is an externally hosted (cdn), client-side Javascript library that enables session tracking on app. It provides enhanced tracking for apps and advanced Samsung Ads targeting.

# Session Management
Session lifecycles are handled by the SPS library under the hood. Session management does not require additional implementation by the developer.

# Usage
To use the library include the following script tag in the head of your page. The library will automatically load the SPS library and begin tracking sessions.

```html
<html>
    <head>
        <script src="https://dk0m4tvufdm9z.cloudfront.net/sps-lib.1.1-min.js"></script>
    </head>
</html>
```

The library exposes a method called `spsLib.getSession` that can be used to get info about the current session. This method is asynchronous and as such must be wrapped in a callback function:


#### Vanilla HTML/Javascript
```js
(async function () {
    const session = await spsLib.getSession();
})(window);
```

#### React
```jsx
React.useEffect(() => {
  window.spsLib.getSession().then((res) => {
      setData(res);
    })
    .catch((e) => {
      console.error(e);
    });
}, []);
```

The `spsLib.getSession` method returns an object with the following properties:
```js
{
  sessionId: "98b7e728-cf11-4692-a0d2-e7c119273042"
  appId: "96RVdPEP8f.App"
  deviceId: "51b392b1-191b-f490-f793-6826638bfd55"
  platform: "tizen"
  timestamp: "2022-07-20T16:52:04.817Z"
}
```
- `sessionId` is a unique identifier for the session. It is generated by the library and is guaranteed to be unique for each session.
- `appId` is the unique identifier for the app. In this example it is generated by the Tizen platform.
- `deviceId` is the unique identifier for the device. In this example it is a [TIFA](https://samsungtifa.com/) (Tizen Identifier For Advertising) and is generated by the Tizen platform.
- `platform` is the platform type that the app is running on.
- `timestamp` is the client-side time that the session was created.


## Release Process

### Overview

Our project uses a continuous deployment approach, where new versions of our library are automatically released upon certain actions, such as merging a pull request.

### Consumers

This library is consumed mostly by external clients, such as tizen app developers. They can access the latest version via our cdn.

### Release Triggers

- **Pull Requests**: Every merged PR triggers a release. The version released is tagged with the `GITHUB_REF_NAME`.
- **Tags**: Pushing a new tag in the format `vX.X.X` also triggers a release.

### Versioning

Currently, our releases are named after the Git reference that triggered them (usually the branch name for PRs). We are exploring more structured semantic versioning to provide clearer version management.

### Notification

After a release, [explain if/how users are notified, e.g., through a mailing list, automated message in a Slack channel, etc.].

### CloudFront Invalidation

As part of our release process, we invalidate the `RELEASE_FILE` in AWS CloudFront. This step ensures that the newly deployed version of the file is immediately available to users, bypassing any older versions cached by CloudFront.

### Further Steps

There certainly could be some improvements done for the release process. Like adding semantic versioning, release branches, a better tagging Strategy, pre-release testing, etc.
